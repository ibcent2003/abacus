@using Wbc.Application.Common.Enums
@using Wbc.WebUI.Services

@inject CommonLocalizationService LocalizationService
@model Wbc.Application.Common.Enums.FormSubmissionAction


@switch (Model)
{
    case FormSubmissionAction.Create:


        <button type="button" id="SubmitBtn" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#centeredModalSuccess">
            Submit
        </button>

        <div class="modal fade" id="centeredModalSuccess" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">@LocalizationService.Get("ConfirmCreateSubmissionTitle")</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body m-3">
                        <p class="mb-0">
                            @LocalizationService.Get("ConfirmCreateSubmissionMessage")
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="CloseBtn" class="btn btn-secondary " data-dismiss="modal">Close</button>
                        <button onclick="SubmitForm(this.form)" type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>

        break;
    case FormSubmissionAction.Update:

        <button type="button" id="SubmitBtn" class="btn btn-success btn-lg" data-toggle="modal" data-target="#centeredModalSuccess">
            Submit
        </button>

        <div class="modal fade" id="centeredModalSuccess" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">@LocalizationService.Get("ConfirmUpdateSubmissionTitle")</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body m-3">
                        <p class="mb-0">
                            @LocalizationService.Get("ConfirmUpdateSubmissionMessage")
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="CloseBtn" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button onclick="SubmitForm(this.form)" type="button" class="btn btn-success">Save changes</button>
                    </div>
                </div>
            </div>
        </div>

        break;
    case FormSubmissionAction.Delete:

        <button type="button" id="SubmitBtn" class="btn btn-danger btn-lg" data-toggle="modal" data-target="#centeredModalSuccess">
            Submit
        </button>

        <div class="modal fade" id="centeredModalSuccess" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">@LocalizationService.Get("ConfirmDeleteSubmissionTitle")</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body m-3">
                        <p class="mb-0">
                            @LocalizationService.Get("ConfirmDeleteSubmissionMessage")
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="CloseBtn" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button onclick="SubmitForm(this.form)" type="button" class="btn btn-danger">Save changes</button>
                    </div>

                </div>
            </div>
        </div>

        break;
    case FormSubmissionAction.WizardFinishStep:
        <button type="button" id="SubmitBtn" class="btn btn-outline-success btn-lg" data-toggle="modal" data-target="#centeredModalSuccess">
            Finish <span class="fa fa-save"></span>
        </button>

        <div class="modal fade" id="centeredModalSuccess" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">@LocalizationService.Get("ConfirmCreateSubmissionTitle")</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body m-3">
                        <p class="mb-0">
                            @LocalizationService.Get("ConfirmCreateSubmissionMessage")
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="CloseBtn" class="btn btn-secondary " data-dismiss="modal">Close</button>
                        <button onclick="SubmitForm(this.form)" type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
        break;


    case FormSubmissionAction.Search:

        <button onclick="SubmitForm(this.form)" type="button" class="btn btn-gd-orange btn-radius">Search</button>

        break;

    case FormSubmissionAction.Calculate:

        <button onclick="SubmitForm(this.form)" type="button" class="btn btn-gd-orange btn-radius">Calculate</button>
        break;


    default:
        throw new ArgumentOutOfRangeException();
}



<script>
    var SubmitForm = function (form) {

        $('#CloseBtn').click();
        form.submit();
        document.getElementById("SubmitBtn").innerHTML = "<span>Processing <img src='/img/processing.gif'/></span>";
        document.getElementById("SubmitBtn").disabled = true;
    }
</script>